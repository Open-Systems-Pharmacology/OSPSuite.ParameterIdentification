% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utilities-object-functions.R
\name{calculateCostMetrics}
\alias{calculateCostMetrics}
\title{Calculate Cost Metrics for Model Evaluation}
\usage{
calculateCostMetrics(
  df,
  objectiveFunctionType = "lsq",
  residualWeightingMethod = "none",
  robustMethod = "none",
  scaleVar = FALSE,
  ...
)
}
\arguments{
\item{df}{A dataframe containing the combined data for simulation and
observation. Supports dataframes created from a \code{DataCombined} object via
\code{DataCombined$toDataFrame()}. The dataframe must include columns for
"dataType", "xValues", "yValues", and optionally "yErrorValues" if the
\code{residualWeightingMethod} is set to "error".}

\item{objectiveFunctionType}{A string indicating the objective function type for
calculating model cost. Options include "lsq" (least squares, default) and "m3"
for handling censored data.}

\item{residualWeightingMethod}{A string indicating the method to weight the
residuals. Options include "none" (default), "std", "mean", and "error".}

\item{robustMethod}{A string indicating the robust method to apply to the residuals.
Options include "none" (default), "huber", and "bisquare".}

\item{scaleVar}{A boolean indicating whether to scale residuals by the
number of observations. Defaults to \code{FALSE}.}

\item{...}{Additional arguments passed to \code{.calculateCensoredContribution},
including 'scaling', 'linScaleCV', and 'logScaleSD'.}
}
\value{
A cost metrics summary list containing the following fields:
\itemize{
\item \code{modelCost}: The total cost calculated from the scaled sum of squared residuals.
\item \code{minLogProbability}: The minimum log probability indicating the model fit.
\item \code{costDetails}: A dataframe with details on the cost calculations.
\item \code{residualDetails}: A dataframe with the calculated residuals and their weights.
The summary has the class \code{modelCost}.
}
}
\description{
This function calculates various cost metrics to evaluate the fit of a model
by comparing simulated data against observed data. It supports different
methods for weighting residuals.
}
\details{
The function calculates the residuals between the simulated and observed
values, applies the specified weighting method, and computes the cost metrics.
}
\examples{
\dontrun{

# Assuming DataCombined is a valid ospsuite DataCombined object
df <- DataCombined$toDataFrame()

# Calculate cost metrics
costMetrics <- calculateCostMetrics(df, residualWeightingMethod = "std", scaleVar = TRUE)

# View model cost
print(costMetrics$modelCost)
}
}
